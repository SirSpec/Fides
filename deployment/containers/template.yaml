apiVersion: '2019-12-01'
location: germanywestcentral
name: fides-container-group
properties:
  containers:
  - name: sql
    properties:
      environmentVariables:
      - name: MSSQL_SA_PASSWORD
        secureValue: P@sswor5
      - name: ACCEPT_EULA
        value: 1
      image: mcr.microsoft.com/azure-sql-edge:latest
      ports:
      - port: 1435
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: rabbitmq
    properties:
      environmentVariables:
      - name: RABBITMQ_DEFAULT_USER
        secureValue: admin
      - name: RABBITMQ_DEFAULT_PASS
        secureValue: password
      image: rabbitmq:management
      ports:
      - port: 15672
      - port: 5672
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: elasticsearch
    properties:
      environmentVariables:
      - name: ES_JAVA_OPTS
        value: -Xms512m -Xmx512m
      - name: ELASTIC_PASSWORD
        secureValue: password
      image: elasticsearch:8.2.0
      ports:
      - port: 9200
      - port: 9300
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: logstash
    properties:
      environmentVariables:
      - name: LS_JAVA_OPTS
        value: -Xms512m -Xmx512m
      - name: LOGSTASH_INTERNAL_PASSWORD
        secureValue: password
      image: logstash:8.2.0
      ports:
      - port: 5044
      - port: 9600
      - protocol: tcp
        port: 5000
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: kibana
    properties:
      environmentVariables:
      - name: KIBANA_SYSTEM_PASSWORD
        secureValue: password
      image: kibana:8.2.0
      ports:
      - port: 5601
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  osType: Linux
  restartPolicy: OnFailure
  ipAddress:
    type: Public
    ports:
      - port: 15672
      - port: 5601
    dnsNameLabel: fides-container-group
tags: {}
type: Microsoft.ContainerInstance/containerGroups