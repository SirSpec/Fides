apiVersion: '2019-12-01'
location: germanywestcentral
name: fides-elk
properties:
  containers:
  - name: elasticsearch
    properties:
      environmentVariables:
      - name: ES_JAVA_OPTS
        value: -Xms512m -Xmx512m
      - name: ELASTIC_PASSWORD
        secureValue: password
      - name: discovery.type
        value: single-node
      image: elasticsearch:8.2.0
      ports:
      - port: 9200
      - port: 9300
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: logstash
    properties:
      environmentVariables:
      - name: LS_JAVA_OPTS
        value: -Xms512m -Xmx512m
      - name: LOGSTASH_INTERNAL_PASSWORD
        secureValue: password
      image: logstash:8.2.0
      ports:
      - port: 5044
      - port: 9600
      - protocol: tcp
        port: 5000
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  - name: kibana
    properties:
      environmentVariables:
      - name: KIBANA_SYSTEM_PASSWORD
        secureValue: password
      image: kibana:8.2.0
      ports:
      - port: 5601
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.5
  osType: Linux
  restartPolicy: OnFailure
  ipAddress:
    type: Public
    ports:
      - port: 5601
    dnsNameLabel: fides-elk
tags: {}
type: Microsoft.ContainerInstance/containerGroups